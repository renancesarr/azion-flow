# IA Change Template — Code-Brain

> Salve como `code-brain/developer/logs-ai-code/<timestamp>-ia-code.md`.
> Cite sempre os IDs envolvidos (`IN-XXXX`, `UC-XXXX`, `T-XXXX`) e os validadores executados.

## 1. Contexto consumido

- context-index.yaml → AGENTS.md → project-guide.md → docs/tasks/tasks-cli-ux.md → src/usecases/deploy/deploy.orchestrator.ts → src/usecases/deploy/types.ts → src/usecases/deploy/deploy.factory.ts.

## 2. Objetivo da alteração

- Concluir TUX-007 integrando callbacks de loading/logging no orchestrator.

## 3. Decisões e justificativas

- Adotei `stepLogger` opcional no Orchestrator para acoplar UX (loading) sem alterar steps; mantém debug via AZION_FLOW_DEBUG.
- Factory passa AzionHttpClient default e continua wireando services/providers.

## 4. Implementação

- `deploy.orchestrator.ts`: adiciona StepLogger (onStart/onSuccess/onError) e logs específicos.
- `deploy/types.ts`: tipos para StepLogger/DeployRunResult/DeployStepCtor.
- `deploy.factory.ts`: usa AzionHttpClient default.
- Task TUX-007 marcada como concluída em `docs/tasks/tasks-cli-ux.md`.

## 5. Revisão humana

- Conectar `stepLogger` a util de loading/labels na CLI (próximo passo).

## 6. Follow-ups

- Criar logger de CLI usando `renderLoadingStart/Success/Error` + `labelForStep` e injetar na factory.
- Adicionar testes cobrindo callbacks do logger.

## 7. Next Steps

- Implementar TUX-009 (deploy summary) após integrar logger/UX aos comandos.
