# IA Change Template — Code-Brain

> Salve como `code-brain/developer/logs-ai-code/<timestamp>-ia-code.md`.
> Cite sempre os IDs envolvidos (`IN-XXXX`, `UC-XXXX`, `T-XXXX`) e os validadores executados.

## 1. Contexto consumido

- context-index.yaml → AGENTS.md → project-guide.md → docs/tasks/tasks-cli-ux.md → src/providers/azion/http/http-client.ts.

## 2. Objetivo da alteração

- Garantir que o token da Azion seja fornecido explicitamente pela CLI/config, sem fallback silencioso em variável de ambiente.

## 3. Decisões e justificativas

- Removido fallback em `process.env.AZION_TOKEN`; se token não estiver configurado, o client lança erro claro para o usuário configurar via CLI/config.
- Mantido suporte a header explícito para casos de uso avançados.

## 4. Implementação

- `src/providers/azion/http/http-client.ts`: remove fallback de env, adiciona validação de ausência de token e mensagem orientativa.

## 5. Revisão humana

- Confirmar UX: CLI deve coletar/gravar token antes de chamadas; mensagem de erro está adequada?

## 6. Follow-ups

- Conectar coleta de token na CLI/config e popular o httpProvider (parcialmente feito no ReadConfigStep).
- Avaliar se testes de integração devem cobrir ausência de token (esperar erro).

## 7. Next Steps

- Ajustar comandos para exigir token de forma clara (ex.: flag ou config) antes de chamar AzionHttpClient.
